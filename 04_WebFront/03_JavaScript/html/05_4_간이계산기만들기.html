<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>05_4_간이계산기만들기</title>
</head>
<body>

    두 수를 입력 받아 버튼에 작선된 연산을 수행하는 계산기 만들기
    <hr>
    첫 번째 값 : <input id="num1" type="text"> <br>
    두 번째 값 : <input id="num2" type="text"> <br>
    <br>
    <button onclick="calculator(this)">+</button>
    <button onclick="calculator(this)">*</button>
    <button onclick="calculator(this)">-</button>
    <button onclick="calculator(this)">/</button>
    <button onclick="calculator(this)">%</button>
    <!-- 
        매개변수 this는 무엇일까?
        this == 클릭된 버튼(요소)
    
        -> this는 이벤트가 발생한 요소 자체를 나타냄
    -->
    <br><br>


    계산 결과 : <span id="result"></span>

    <script>
        // 작성된 HTML 요소에 원하는 속성(id, class, onclick) 작성 후
        // 필요한 JS 코드를 이용해 계산기 만들기

        function calculator1(op){

            console.log(op.innerText);

            const num1 = Number(document.getElementById("num1").value);
            const num2 = Number(document.getElementById("num2").value);

            let result;

            switch(op.innerText){
                case '+': result = num1 + num2; break;
                case '-': result = num1 - num2; break;
                case '*': result = num1 * num2; break;
                case '/': result = parseInt(num1 / num2); break;
                case '%': result = num1 % num2; break;
            }
            document.getElementById("result").innerText = result;
        }

        function calculator1(op){

            const num1 = Number(document.getElementById("num1").value);
            const num2 = Number(document.getElementById("num2").value);

            // eval("코드 형식의 문자열")
            //  -> 작성된 문자열을 JS 코드로 해석하는 함수
            //  -> 속도 + 보안 이슈 때문에 사용을 지양

            // --> new Function("return 코드 형식의 문자열")()로 문제 해결
            document.getElementById("result").innerText
                // = eval(num1 + op.innerText + num2);
                //   num1 +     "+"      + num2 -> 10 + 20  
                //    10                   20
                = new Function("return " + num1 + op.innerText + num2)();
            }



    </script>

</body>
</html>